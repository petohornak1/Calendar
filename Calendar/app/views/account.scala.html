@(user: User)(chasForm: Form[User])(chpsForm: Form[User])
@import helper._
@import helper.twitterBootstrap._ 

@main("Calendar") {

	<div class="header">
		<div class="header-container">
			<img class="logo" src="@routes.Assets.at("images/calendar.png")">
			<h1>Calendar</h1>
			<div class="header-right">
				Logged in as<b>&nbsp;@user.firstName&nbsp;@user.lastName</b>
     		</div>
     	</div>
	</div>
 
 <div class="content">
		<div class="content-container">
			<div class="content-left">
 	 		<h3 class="center">Account Settings</h3> 
				@form(routes.Application.changeAccount(user.id, user.email, user.password), 'name -> "chasForm", 'onsubmit -> "return validateChasForm()", 'class -> "form-horizontal") {    				 
		
					<div class="control-group" id="firstName_field_chas">
    					<label class="control-label" for="firstName">
    						<b>First name:</b>
    					</label>
    					<div class="controls">
        					<input type="text" id="firstName" name="firstName" value=@user.firstName >        					
   						</div>
					</div>
		
					<div class="control-group" id="lastName_field_chas">
    					<label class="control-label" for="lastName">
    						<b>Last name:</b>
    					</label>
    					<div class="controls">
        					<input type="text" id="lastName" name="lastName" value=@user.lastName >        					
   						</div>
					</div>
		
					<div class="control-group" id="birthday_field_chas">
    					<label class="control-label" for="birthday">
    						<b>Birthday:</b>
    					</label>
    					<div class="controls">
        					<input type="text" id="birthday" name="birthday" value=@user.birthday >
        					<span class="help-block" id="birthday_error_chas"></span> 
        					<span class="help-block" id="birthday_help_chas"></span> 
   						</div>
					</div>  
		
					<div class="control-group">
						<div class="controls">
							<input type="submit" class="btn" value="Save changes"> 
						</div>
					</div> 	
				} 
				<div class="" id="error_chas"></div> 					    			 
			</div>
			
			<div class="content-right">
				<h3 class="center">Password Settings</h3>
				@form(routes.Application.changePass(user.id, user.email, user.firstName, user.lastName, user.birthday), 'name -> "chpsForm", 'onsubmit -> "return validateChpsForm()", 'class -> "form-horizontal") {
    				<div class="control-group" id="oldPassword_field_chps">
    					<label class="control-label" for="oldPassword">
    						<b>Your current password:</b>
    					</label>
    					<div class="controls">
        					<input type="password" id="oldPassword" name="oldPassword" placeholder="Current password">
        					<span class="help-block" id="oldPassword_error_chps"></span>        	
   						</div>
					</div>
		
					<div class="control-group" id="password_field_chps">
    					<label class="control-label" for="password">
    						<b>New password:</b>
    					</label>
    					<div class="controls">
        					<input type="password" id="password" name="password" placeholder="New password" >
        					<span class="help-block" id="password_error_chps"></span>        		
   						</div>
					</div> 	
		
					<div class="control-group" id="rePassword_field_chps">
    					<label class="control-label" for="rePassword">
    						<b>Re-enter new password:</b>
    					</label>
    					<div class="controls">    		
        					<input type="password" id="rePassword" name="rePassword" placeholder="New password" >
        					<span class="help-block" id="rePassword_error_chps"></span>     
        					<span class="help-block" id="rePassword_help_chps"></span>    		
   						</div>
					</div> 							
		
					<div class="control-group">
						<div class="controls">
							<input type="submit" class="btn" value="Change password"> 
						</div>
					</div> 	
		  
    }
    			<div class="" id="error_chps"></div>    
			</div>						
		</div>
	</div>
 	 
    <div class="navbar navbar-fixed-bottom">
		  <div class="navbar-inner">
		    <div class="container">		      
		      <a class="brand" href="/logged"><img class="navlogo" src="@routes.Assets.at("images/calendar.png")">Calendar</a>
		      <div class="nav-collapse">
		        <ul class="nav">		          
		          <li><a href="setup-notes.html">List of events</a></li>
		          <li><a href="/account">Account Settings</a></li>
		        </ul>	
		        <form class="navbar-search pull-right" action="/signedOut" method="POST">
		          <input type="submit" class="btn btn-primary pull-right" value="Sign out">
		        </form>		               
		                		        	
		      </div><!-- /.nav-collapse -->
		    </div><!-- /.container -->
		  </div><!-- /navbar-inner -->
		</div><!-- /navbar -->
		
		<script>		
		function preventBack(){
			window.history.forward();
		}
		setTimeout("preventBack()", 0);
		window.onunload=function(){null};
		</script>
}
